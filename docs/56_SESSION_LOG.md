# 56_SESSION_LOG

## C. Session log (append only)
Format: YYYY-MM-DD, branch, summary, gates or epics moved

- 2026-02-05, <branch>, initialized Layer 1 plan (EPIC map created)
- 2026-02-06, main, GATE.TIME.001 DONE (1 tick = 1 game minute, 60x), tests: SimCore.Tests/Time/TimeContractTests.cs
- 2026-02-06, main, GATE.INTENT.001 DONE (intent queue + deterministic ordering), tests: SimCore.Tests/Intents/IntentSystemTests.cs
- 2026-02-06, main, GATE.MKT.002 DONE (published prices update every 720 ticks), tests: SimCore.Tests/Systems/MarketPublishCadenceTests.cs
- 2026-02-06, main, GATE.INTEL.001 DONE (local truth, remote banded intel + age), tests: SimCore.Tests/Systems/IntelContractTests.cs
- 2026-02-06, main, GATE.DET.001 DONE (10,000 tick determinism), tests: SimCore.Tests/Determinism/LongRunWorldHashTests.cs, evidence: docs/generated/05_TEST_SUMMARY.txt
- 2026-02-06, main, GATE.SAVE.001 DONE (save/load preserves world hash), tests: SimCore.Tests/SaveLoad/SaveLoadWorldHashTests.cs, evidence: docs/generated/05_TEST_SUMMARY.txt
- 2026-02-06, main, GATE.INV.001 DONE (invariants suite), tests: SimCore.Tests/Invariants/InventoryConservationTests.cs; SimCore.Tests/Invariants/BasicStateInvariantsTests.cs, evidence: docs/generated/05_TEST_SUMMARY.txt
- 2026-02-06, main, GATE.UI.001 DONE (StationMenu shows inventory, price, intel age), evidence: scripts/ui/StationMenu.cs; scripts/bridge/SimBridge.cs
- 2026-02-06, main, GATE.UI.002 DONE (StationMenu submits buy/sell intents via bridge, no TradeCommand in UI), evidence: scripts/ui/StationMenu.cs; scripts/bridge/SimBridge.cs; SimCore/Intents/BuyIntent.cs; SimCore/Intents/SellIntent.cs
- 2026-02-06, main, SimCore regression run PASS (dotnet test SimCore.Tests.csproj: 40 passed, 0 failed). Evidence: docs/generated/05_TEST_SUMMARY.txt
- 2026-02-06, main, Slice 0 status kept IN_PROGRESS: context packet did not surface test summary despite tests present; added GATE.EVID.001 TODO. Evidence: docs/generated/01_CONTEXT_PACKET.md; docs/generated/05_TEST_SUMMARY.txt
- 2026-02-06, main, GATE.EVID.001 DONE (context packet surfaces connectivity + test summary + hash snapshot presence). Evidence: docs/generated/01_CONTEXT_PACKET.md; docs/generated/05_TEST_SUMMARY.txt; docs/generated/snapshots/golden_replay_hashes.txt
- 2026-02-06, main, Added Slice 2 v1 scope lock and B4 Slice 2 gate table (all TODO)
- 2026-02-06, main, Pinned Slice 1 evidence paths from docs/generated/evidence/* (World001, lane flow, inventory ledger, market tests)
- 2026-02-07, main, GATE.TECH.001/002/003 DONE (tech upkeep inputs, buffer sizing in days, deterministic degradation; logistics wired into tick), tests: SimCore.Tests/Sustainment/TechUpkeepConsumesGoodsTests.cs; SimCore.Tests/Sustainment/BufferSizingDaysTests.cs; SimCore.Tests/Sustainment/DeterministicDegradationTests.cs
- 2026-02-07, main, GATE.TEST.002 DONE (golden replay snapshot updated to match deterministic genesis+final hashes), tests: SimCore.Tests/Determinism/LongRunWorldHashTests.cs, evidence: docs/generated/snapshots/golden_replay_hashes.txt
- 2026-02-07, main, GATE.DET.101 + GATE.INV.101 DONE (sustainment determinism regression + buffer math invariants), tests: SimCore.Tests/Sustainment/SustainmentDeterminismRegressionTests.cs; SimCore.Tests/Sustainment/BufferMathInvariantsTests.cs
- 2026-02-07, main, GATE.UI.101 DONE (StationMenu shows sustainment margin + time-to-failure via bridge + SustainmentReport), evidence: scripts/ui/StationMenu.cs; scripts/bridge/SimBridge.cs; SimCore/Systems/SustainmentReport.cs
- 2026-02-07, main, GATE.PROG.001 + GATE.PROG.EXEC.001 + GATE.EXPLAIN.001 DONE (program schema present and versioned; program explain is schema-bound + deterministic; programs emit intents only), tests: SimCore.Tests/Programs/ProgramContractTests.cs, evidence: SimCore/Schemas/ProgramSchema.json
- 2026-02-07, main, GATE.BRIDGE.PROG.001 + GATE.DET.PROG.001 DONE (bridge program lifecycle via commands; determinism and save/load include programs), tests: SimCore.Tests/Programs/ProgramLifecycleContractTests.cs; SimCore.Tests/Programs/ProgramStatusCommandContractTests.cs; SimCore.Tests/Determinism/ProgramDeterminismTests.cs; SimCore.Tests/SaveLoad/ProgramSaveLoadContractTests.cs, evidence: scripts/bridge/SimBridge.cs
- 2026-02-08, main, GATE.UI.PROG.001 DONE (ProgramsMenu UI present, opens as modal, can create program and view quote/outcome; blocks clicks behind), evidence: scripts/ui/ProgramsMenu.cs; scripts/ui/StationMenu.cs; scenes/playable_prototype.tscn
- 2026-02-08, main, UI polish: StationMenu widened to fit program controls; ProgramsMenu row wrapping + hide-cancelled default; Escape closes ProgramsMenu, and Escape undocks when StationMenu focused.
- 2026-02-08, main, GATE.PROG.EXEC.002 DONE (integration: program drives BUY+SELL against World001 and outcomes change only via tick). Evidence: SimCore.Tests/Programs/ProgramExecutionIntegrationTests.cs; docs/generated/05_TEST_SUMMARY.txt
- 2026-02-08, main, GATE.QUOTE.001 DONE (deterministic request+snapshot=>quote with golden). Evidence: SimCore/Programs/ProgramQuote.cs; SimCore/Programs/ProgramQuoteSnapshot.cs; SimCore.Tests/Programs/ProgramQuoteContractTests.cs; SimCore.Tests/TestData/Snapshots/program_quote_001.json; docs/generated/05_TEST_SUMMARY.txt
- 2026-02-08, main, GATE.FLEET.001 DONE (deterministic single player trader fleet created by WorldLoader). Evidence: SimCore/World/WorldLoader.cs; SimCore.Tests/Programs/FleetBindingContractTests.cs; docs/generated/05_TEST_SUMMARY.txt
- 2026-02-08, main, GATE.DOCTRINE.001 DONE (DefaultDoctrine deterministic, max 2 toggles). Evidence: SimCore/Programs/DefaultDoctrine.cs; SimCore.Tests/Programs/DefaultDoctrineContractTests.cs
- 2026-02-08, main, GATE.VIEW.001 DONE (ship-follow orbit camera + ship placeholder mesh in playable prototype). Evidence: scripts/view/player_follow_camera.gd; scenes/player.tscn; scenes/playable_prototype.tscn
- 2026-02-08, main, Slice 2 DONE (Programs v1): all B4 gates DONE, including GATE.DET.PROG.001. Evidence: B4 table + Program determinism tests + ProgramsMenu UI.
- 2026-02-08, main, Slice 3 routing: GATE.ROUTE.001 + GATE.FLEET.ROUTE.001 DONE; LogisticsTests aligned with BufferDays shortage contract; determinism goldens updated. Evidence: SimCore/Systems/RoutePlanner.cs; SimCore.Tests/Systems/RoutePlannerTests.cs; SimCore/Entities/Fleet.cs; SimCore/Systems/MovementSystem.cs; SimCore.Tests/Systems/FleetRouteTravelTests.cs; SimCore.Tests/LogisticsTests.cs; SimCore.Tests/GoldenReplayTests.cs; SimCore.Tests/Determinism/LongRunWorldHashTests.cs.
- 2026-02-08, main, GATE.CONN.001 DONE (connectivity graph v1: nodes array of paths, edges use from_id/to_id, evidence uses file_id + lines; violations 0). Evidence: docs/generated/connectivity_manifest.json; docs/generated/connectivity_graph.json; docs/generated/connectivity_violations.json
- 2026-02-08, main, GATE.LOGI.JOB.001 DONE (LogisticsJob supports multi-hop deterministic routes; PlanLogistics sets route legs deterministically), tests: SimCore.Tests/Systems/LogisticsJobContractTests.cs
- 2026-02-08, main, Slice 3 logistics execution: GATE.S0.SEM.001 DONE (Slice 0 ALWAYS_ON semantics clarified); fixed mojibake in Slice 4 epic; added Fleet.Cargo + save/load contract test (GATE.LOGI.CARGO.001 DONE); implemented fleet load/unload intents+commands and transfer contract tests (GATE.LOGI.XFER.001 IN_PROGRESS; 1 failing test due to full-kernel step side effects, needs isolated intent processing)
- 2026-02-08, main, Follow-up: LogisticsTransferContractTests isolated to intent processing; GATE.LOGI.XFER.001 marked DONE; committed + pushed c04d2f0
- 2026-02-09, main, GATE.LOGI.EXEC.001 DONE (logistics job executes via latched load/unload intents; integration test added; goldens updated). Evidence: SimCore/Systems/LogisticsSystem.cs; SimCore/Entities/LogisticsJob.cs; SimCore.Tests/Systems/LogisticsJobExecutionIntegrationTests.cs; SimCore.Tests/Determinism/LongRunWorldHashTests.cs; SimCore.Tests/GoldenReplayTests.cs
- 2026-02-09, main, GATE.LOGI.MUT.001 DONE (mutation pipeline contract test: LogisticsSystem.Process cannot mutate market inventory or fleet cargo; mutations occur only via IntentSystem.Process). Evidence: SimCore.Tests/Sustainment/LogisticsMutationPipelineContractTests.cs
- 2026-02-09, main, Slice 3 logistics exec tightened: LogisticsSystem consumes precomputed route legs (no replanning), added end-to-end execution determinism tests, updated LogisticsTests to assert route contract (FinalDestinationNodeId + RouteEdgeIds). Evidence: SimCore/Systems/LogisticsSystem.cs; SimCore.Tests/Systems/LogisticsJobExecutionTests.cs; SimCore.Tests/LogisticsTests.cs
- 2026-02-09, main, GATE.LOGI.DET.001 DONE (2 fleets planned into same logistics route under lane capacity contention; stable final signature across fresh runs). Evidence: SimCore.Tests/Determinism/LogisticsMultiFleetDeterminismTests.cs
- 2026-02-09, main, GATE.LOGI.EVENT.001 + GATE.LOGI.SAVE.001 DONE (schema-bound logistics event stream; save/load mid-job continuation matches uninterrupted final hash). Evidence: SimCore/Events/LogisticsEvents.cs; SimCore.Tests/Systems/LogisticsEventStreamContractTests.cs; SimCore.Tests/SaveLoad/SaveLoadLogisticsMidJobTests.cs
- 2026-02-09, main, GATE.LOGI.ORDER.001 DONE (deterministic same-tick logistics event ordering + tick finalization reorder), tests: SimCore.Tests/Determinism/LogisticsOrderingDeterminismTests.cs
- 2026-02-09, main, Slice 3 logistics fulfillment correctness: GATE.LOGI.FULFILL.001 + GATE.LOGI.CANCEL.001 DONE (partial pickup delivers only loaded amount; 0-pickup cancels deterministically; event type added; goldens updated). Evidence: SimCore/Systems/LogisticsSystem.cs; SimCore/Entities/LogisticsJob.cs; SimCore/Events/LogisticsEvents.cs; SimCore.Tests/Systems/LogisticsPartialFulfillmentTests.cs; SimCore.Tests/Systems/LogisticsCancelContractTests.cs; SimCore.Tests/Determinism/LongRunWorldHashTests.cs; SimCore.Tests/GoldenReplayTests.cs
- 2026-02-09, main, GATE.LOGI.RETRY.001 DONE (0-pickup retry policy: retry up to N consecutive 0-load observations at source, then cancel deterministically; refilling supplier before N completes successfully; goldens updated). Evidence: SimCore/Systems/LogisticsSystem.cs; SimCore/Entities/LogisticsJob.cs; SimCore.Tests/Systems/LogisticsRetryOrCancelContractTests.cs; SimCore.Tests/Determinism/LongRunWorldHashTests.cs; SimCore.Tests/GoldenReplayTests.cs
- 2026-02-09, main, GATE.LOGI.RESERVE.001 DONE (reservation book persisted; LoadCargo enforces reserved pool; release deterministic); updated golden hash constants. Evidence: SimCore/Entities/LogisticsReservation.cs; SimCore/SimState.cs; SimCore/Commands/LoadCargoCommand.cs; SimCore/Systems/LogisticsSystem.cs; SimCore.Tests/Systems/LogisticsReservationContractTests.cs; SimCore.Tests/Determinism/LongRunWorldHashTests.cs; SimCore.Tests/GoldenReplayTests.cs
- 2026-02-09, main, GATE.UI.FLEET.001 DONE (FleetMenu lists fleets and live refreshes while open). Evidence: scripts/ui/FleetMenu.cs; scripts/bridge/SimBridge.cs
- 2026-02-15, main, GATE.S2_5.SEEDS.002 PASS (RNG stream partitioning: legacy fixed offsets + new streams seeded by (base_seed, stable_stream_name) hash; galaxy_generator uses named STREAM_GALAXY_GEN). Evidence: scripts/core/sim/rng_streams.gd; scripts/core/sim/galaxy_generator.gd; scripts/tools/Validate-GodotScript.ps1
- 2026-02-15, main, GATE.S2_5.SEEDS.001 DONE (Validate-GodotScript PASS; Seed=123456 headless sig sha256 stable; STREAM_GALAXY_GEN=galaxy_gen; SimState initial_seed immutable). Evidence: scripts/core/sim/galaxy_generator.gd; scripts/core/state/sim_state.gd; scripts/core/sim/rng_streams.gd
- 2026-02-15, main, GATE.S2_5.SEEDS.003 PASS (Added seed determinism regression; canonical headless proof uses capture+exit_code to avoid stray console noise). Evidence: scripts/tests/test_galaxy_core.gd;scripts/core/sim/galaxy_generator.gd;scripts/core/sim/rng_streams.gd
- 2026-02-15, main, GATE.S2_5.SEEDS.004 DONE (Persist seed identity: attach seed at SimKernel construction; save envelope includes Seed; SaveLoadWorldHashTests asserts seed preserved across load and re-save). Evidence: SimCore/SimKernel.cs; SimCore/Systems/SerializationSystem.cs; SimCore.Tests/SaveLoad/SaveLoadWorldHashTests.cs; SimCore/World/WorldLoader.cs
- 2026-02-15, UNKNOWN, GATE.S2_5.SEEDS.005 DONE (LongRunWorldHashTests: seed surfaced via STE_LONGRUN_SEED and embedded in failure messages; checkpoint hashes printed at 0/1000/5000/10000; dotnet test Release passes). Evidence: SimCore.Tests/Determinism/LongRunWorldHashTests.cs
- 2026-02-16, <branch>, GATE.S2_5.SEEDS.006 DONE (Specified canonical Seed%WorldId vocabulary and determinism%save/load regression reporting requirements). Evidence: docs/21_90_TERMS_UNITS_IDS.md; docs/20_TESTING_AND_DETERMINISM.md; SimCore.Tests/SaveLoad/SaveLoadWorldHashTests.cs
- 2026-02-16, main, GATE.UI.FLEET.002 DONE (CancelFleetJob waits for tick advance so immediate UI refresh reflects deterministic cancel state; dotnet test SimCore.Tests/SimCore.Tests.csproj -c Release). Evidence: scripts/bridge/SimBridge.cs; scripts/ui/FleetMenu.cs; SimCore/Commands/FleetJobCancelCommand.cs; SimCore.Tests/Systems/FleetJobCancelContractTests.cs
- 2026-02-16, main, GATE.UI.FLEET.003 DONE (Manual override now sets FinalDestinationNodeId; save/load contract validated). Evidence: SimCore/Commands/FleetSetDestinationCommand.cs; SimCore.Tests/SaveLoad/FleetManualOverrideSaveLoadContractTests.cs
- 2026-02-16, main, GATE.S2_5.SEEDS.001 PASS (Headless determinism smoke EXIT_CODE=0 with digest match; SimState.seed persisted and used for worldgen; anti-pattern scan OK). Evidence: scripts/core/state/sim_state.gd; scripts/core/sim/galaxy_generator.gd; scripts/tools/seed_determinism_smoke.gd; scripts/core/sim/sim.gd
- 2026-02-16, main, GATE.S2_5.SEEDS.003 DONE (Seed determinism regression: Validate-GodotScript ok; headless test_galaxy_core exit_code=0; same-seed repr match; diff-seed repr differs). Evidence: scripts/tests/test_galaxy_core.gd; scripts/core/sim/galaxy_generator.gd; scripts/core/sim/rng_streams.gd
- 2026-02-17, main, GATE.PROG.UI.001 PASS (ManualOverrideSet event is schema-bound; ManualOverride cancels job and deterministically pauses fleet-bound programs). Evidence: SimCore/Events/LogisticsEvents.cs;SimCore/Commands/FleetSetDestinationCommand.cs;SimCore/Programs/ProgramInstance.cs;SimCore/Programs/ProgramSystem.cs;SimCore.Tests/Programs/ProgramLifecycleContractTests.cs
- 2026-02-17, main, GATE.UI.FLEET.AUTH.001 PASS (Authority precedence explicit: ActiveController Program%Job%ManualOverride; override cancels job deterministically). Evidence: SimCore/Entities/Fleet.cs;SimCore.Tests/Systems/FleetAuthorityPrecedenceContractTests.cs;SimCore/Commands/FleetSetDestinationCommand.cs
- 2026-02-17, main, GATE.UI.FLEET.DET.001 PASS (Hardened determinism regression with non-vacuous signature checkpoints and lossless save/load mid-sequence). Evidence: SimCore.Tests/Determinism/LogisticsMultiFleetDeterminismTests.cs
- 2026-02-17, main, GATE.UI.FLEET.EVENT.001 PASS (FleetMenu renders last N schema-bound logistics events per fleet via SimBridge snapshot; deterministic ordering preserved). Evidence: scripts/ui/FleetMenu.cs;scripts/bridge/SimBridge.cs;SimCore.Tests/Systems/LogisticsEventStreamContractTests.cs
- 2026-02-17, main, GATE.UI.EXPLAIN.PLAY.001 PASS (Validate-GodotScript phase3_explain_capstone.gd PASS; headless capstone PASS; dotnet test PASS) Evidence: scripts/tests/phase3_explain_capstone.gd;scripts/bridge/SimBridge.cs;scripts/ui/StationMenu.cs;scripts/ui/ProgramsMenu.cs;SimCore/World/WorldLoader.cs;SimCore/Events/LogisticsEvents.cs
- 2026-02-18, main, GATE.UI.FLEET.PLAY.001 PASS (Validate-Gates PASS; dotnet build Debug PASS; headless fleet_playability_smoke.gd PASS; in-game: StationMenu Fleets opens FleetMenu, CancelJob/Override/ClearOverride verified, Save/Load mid-sequence verified, deterministic event tail visible) Evidence: scenes/playable_prototype.tscn;scripts/ui/StationMenu.cs;scripts/ui/FleetMenu.cs;scripts/bridge/SimBridge.cs;SimCore/Entities/Fleet.cs;SimCore/Commands/FleetJobCancelCommand.cs;SimCore/Commands/FleetSetDestinationCommand.cs
- 2026-02-19, main, GATE.UI.DOCK.NONSTATION.001 PASS (In-game: docking at non-station StarNode ex: star_16 opens StationMenu automatically without F9; PlayerShip no longer freezes without UI; Undock restores input; no ResolveMarketId ERROR spam when dock_id has no market mapping; GalaxyView spawn loop uses continue not return; dock_id resolution is deterministic: get_sim_market_id() else sim_market_id meta else node.name) Evidence: scenes/playable_prototype.tscn;scripts/player.gd;scripts/view/GalaxyView.cs;scripts/view/StarNode.cs;scripts/ui/StationMenu.cs;scripts/bridge/SimBridge.cs
- 2026-02-19, main, GATE.UI.LOGISTICS.001 PASS (StationMenu logistics readout via SimBridge facts; deterministic ordering; Validate-Gates OK) Evidence: scripts/ui/StationMenu.cs;scripts/bridge/SimBridge.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Entities/LogisticsJob.cs
- 2026-02-19, main, GATE.UI.LOGISTICS.EVENT.001, PASS (Station logistics panel deterministic incident timeline + zero-pickup cause chain), Evidence: scripts/ui/StationMenu.cs;scripts/bridge/SimBridge.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Events/LogisticsEvents.cs
- 2026-02-19, main, GATE.UI.PROGRAMS.001 PASS (Programs UI readout deterministic ordering via ordinal compares; Validate-Gates + headless UI smoke). Evidence: scripts/ui/ProgramsMenu.cs;scripts/bridge/SimBridge.cs;SimCore/Programs/ProgramSystem.cs;SimCore/Programs/ProgramInstance.cs
- 2026-02-19, main, GATE.UI.PROGRAMS.EVENT.001 PASS (Programs UI shows last N program events with deterministic ordering; quicksave v2 persists program event log across save%load; clickable entity refs copy ids to clipboard; UI clipping fixes in Programs%Station menus. Note: no causal event tracker yet linking program events to logistics%movement streams). Evidence: scripts/ui/ProgramsMenu.cs;scripts/bridge/SimBridge.cs;SimCore/Programs/ProgramExplain.cs;SimCore/Programs/ProgramSystem.cs;scripts/ui/StationMenu.cs
- 2026-02-19, main, GATE.S2_5.WGEN.ECON.001 PASS (Deterministic starter region economy placement v0; loop finder asserts >=3 viable loops (hop_count<=4, net_profit_proxy>0 after fees, volume_proxy>0); deterministic econ_loops_report.txt emitted to repo docs/generated; updated long-run and golden replay expected hashes to new deterministic baselines; dotnet test SimCore.Tests/SimCore.Tests.csproj -c Release PASS) Evidence: SimCore/Gen/GalaxyGenerator.cs;SimCore.Tests/MarketTests.cs;SimCore.Tests/Determinism/LongRunWorldHashTests.cs;SimCore.Tests/GoldenReplayTests.cs;docs/generated/econ_loops_report.txt
- 2026-02-19, main, GATE.S2_5.WGEN.FACTION.001 PASS (Faction seeding v0: 3 factions with stable ids%roles; seed-driven home selection; diff-friendly table+matrix stable ordering; dotnet test Release PASS; Godot headless galaxy core test PASS) Evidence: scripts/core/sim/galaxy_generator.gd;scripts/tests/test_galaxy_core.gd;SimCore/Gen/GalaxyGenerator.cs;SimCore.Tests/GalaxyTests.cs;SimCore/Schemas/WorldDefinition.cs
- 2026-02-20, main, GATE.S2_5.WGEN.GALAXY.001 PASS (Deterministic topology v0: nodes>=12 enforced, lanes>=18, stable lane ids via counter; topology dump emitted to docs/generated and stable hash; dotnet test SimCore.Tests -c Release PASS) Evidence: scripts/tests/test_galaxy_core.gd;scripts/core/sim/galaxy_generator.gd;scripts/core/galaxy_graph.gd;SimCore/Gen/GalaxyGenerator.cs;scenes/tests/test_galaxy_core.tscn;SimCore.Tests/GalaxyTests.cs
- 2026-02-20, main, GATE.S2_5.WGEN.INVARIANTS.001 PASS (Worldgen onboarding invariants suite v0 implemented: CONNECTED_GRAPH%STARTER_REGION_SAFE_PATH%EARLY_LOOPS_MIN3; deterministic failure records sorted by InvariantName then PrimaryId; headless run EXIT_CODE=0; stdout sha256=A5EEAEE6BC1817586DCA2585536283DAF559E65CB88ADE18C9CCEA32C165AB24) Evidence: scripts/tests/test_universe_validator.gd;scripts/tests/test_galaxy_core.gd;scripts/tests/test_economy_core.gd;scripts/core/sim/rng_streams.gd
- 2026-02-20, main, GATE.S2_5.WGEN.WORLD_CLASSES.001 PASS (Starter-region world class invariant enforced and validated; deterministic per-node assignments sorted by NodeId and class summary emitted; Validate-GodotScript PASS; universe validator PASS; stdout deterministic; dotnet build Debug PASS) Evidence: scripts/tests/test_universe_validator.gd;SimCore/Gen/GalaxyGenerator.cs;scripts/core/sim/galaxy_generator.gd
- 2026-02-20, main, GATE.S3.CAPACITY_SCARCITY.001 PASS (dotnet test Release PASS; lane capacity enforces bounded per-tick delivery with deterministic overflow queue; utilization report stable sorted by lane_id; logistics resumes via reachable-supplier planning and fuel economy no longer deadlocks) Evidence: SimCore/Systems/LaneFlowSystem.cs;SimCore.Tests/Systems/LaneFlowSystemTests.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Gen/GalaxyGenerator.cs;SimCore/Systems/MarketSystem.cs
- 2026-02-20, main, GATE.S3.FLEET.ROLES.001 PASS (FleetRole drives deterministic route-choice winner across competing candidates; emits schema-bound FleetEvents.RouteChoice; persists chosen RouteId through save%load; dotnet test Release PASS) Evidence: SimCore/Entities/Fleet.cs;SimCore/Systems/IntentSystem.cs;SimCore/SimState.cs;SimCore/Events/FleetEvents.cs;SimCore.Tests/Systems/FleetAuthorityPrecedenceContractTests.cs
- 2026-02-20, main, GATE.S3.MARKET_ARB.001 PASS (Market arb “money printer” bounded t600<=t300*2; two frictions evidenced: lane capacity queued + nonzero transaction fee sink w% no-fee equity proxy; deterministic report emitted) Evidence: SimCore.Tests/MarketTests.cs;SimCore/Systems/MarketSystem.cs;SimCore/Systems/LaneFlowSystem.cs;SimCore/Systems/LogisticsSystem.cs;SimCore.Tests/Determinism/LongRunWorldHashTests.cs;docs/generated/market_arb_constraint_report.txt
- 2026-02-20, main, GATE.S3.PERF_BUDGET.001 PASS (dotnet test SimCore.Tests Release PASS; PERF_BUDGET_REPORT_V0 emitted for seed=424242 over 600 ticks measuring last 300; fleets>=50 and active_transfers>=200 satisfied via deterministic synthetic InFlightTransfers seeding; budget_ms_per_tick=50 enforced and guard negative test verifies failure when exceeded) Evidence: SimCore.Tests/Determinism/LongRunWorldHashTests.cs;SimCore.Tests/GoldenReplayTests.cs;SimCore/SimKernel.cs;SimCore/Systems/BandedTime.cs
- 2026-02-20, main, GATE.S3.ROUTES.001 PASS (Cleanup: eliminated nullable warnings; RouteChosen emitted only when CandidateCount>=2; determinism preserved; dotnet test Release PASS). Evidence: SimCore/Systems/RoutePlanner.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Events/LogisticsEvents.cs;SimCore.Tests/Systems/RoutePlannerTests.cs;SimCore.Tests/Systems/FleetRouteTravelTests.cs
- 2026-02-20, main, GATE.S3.UI.DASH.001 PASS (Validate-Gates OK; SimCore.Tests PASS; Dash v0 exposes deterministic snapshot metrics and save%load preserves selected view index%last dashboard snapshot tick; caveat: top3_bottleneck_lanes derives from note parsing and top3_profit_loops is a price-diff proxy, both v0 scaffolding). Evidence: scripts/bridge/SimBridge.cs;scripts/ui/StationMenu.cs;SimCore/Systems/SerializationSystem.cs;SimCore/Systems/SustainmentReport.cs
- 2026-02-20, main, GATE.REPO.HEALTH.001 PASS (Repo-Health one-command runner; SimCore.Tests PASS; repo health scan enforces size%forbidden types, generated hygiene with LLM budgets, backup%junk policy, and connectivity delta FAIL only on NEW cross-layer edges not allowlisted; deterministic report emitted). Evidence: SimCore.Tests/Invariants/RuntimeFileContractTests.cs;scripts/tools/Repo-Health.ps1;scripts/tools/Scan-Connectivity.ps1;docs/connectivity/baseline_cross_layer_edges_v0.txt;docs/connectivity/allowlist_cross_layer_edges_v0.txt
- 2026-02-20, main, GATE.S2_5.SAVELOAD.WORLDGEN.001 PASS (Worldgen save%load contract v0: seed preserved expected=saved=resaved=123; SaveLoad hash matches Before; deterministic outputs; dotnet test SimCore.Tests/SimCore.Tests.csproj -c Release PASS (107 tests)). Evidence: SimCore.Tests/SaveLoad/SaveLoadWorldHashTests.cs;SimCore/Systems/SerializationSystem.cs;SimCore/World/WorldLoader.cs
- 2026-02-20, main, GATE.S2_5.TOOL.SEED_EXPLORER.001 PASS (Seed explorer v0 follow-through: centralized v0 knobs in SeedExplorerV0Config and threaded through runner CLI and report builders; defaults preserved; config override determinism covered; dotnet test PASS). Evidence: SimCore.Tests/Determinism/LongRunWorldHashTests.cs;SimCore.Runner/Program.cs;SimCore/Gen/GalaxyGenerator.cs;scripts/tools/seed_determinism_smoke.gd
- 2026-02-21, main, GATE.S2_5.WGEN.DISTRIBUTION.001 PASS (Worldgen distribution bounds v0 follow-through: replaced inventory-threshold proxy with structural producer%sink checks via IndustrySite Inputs%Outputs over N=100 seeds; added explicit GalaxyGenOptions and Generate overload so distribution-only sinks are opt-in and default worldgen remains golden-stable; deterministic report emitted to docs/generated/worldgen_distribution_bounds_report_v0.txt; dotnet test PASS). Evidence: SimCore.Tests/MarketTests.cs;SimCore/Gen/GalaxyGenerator.cs;SimCore/Systems/MarketSystem.cs
- 2026-02-21, main, GATE.S2_5.WGEN.NSEED.001 PASS (post-closeout: scope invariants batch golden updates to STE_UPDATE_INVARIANTS_BATCH_GOLDEN; dotnet test Release PASS). Evidence: SimCore.Tests/Determinism/LongRunWorldHashTests.cs
- 2026-02-21 main GATE.S3.SAVELOAD.SCALING.001 PASS save%load preserves injected lane deferral (ArriveTick>DepartTick), LogisticsEventLog ChosenRouteId%TieBreakReason, and WorldClasses FeeMultiplier; lockstep replay matches signature. Evidence: SimCore.Tests/SaveLoad/SaveLoadLogisticsMidJobTests.cs;SimCore/Systems/LaneFlowSystem.cs;SimCore/Systems/SerializationSystem.cs
- 2026-02-21, main, PerfBudget investigation + optimization (local PASS): isolated perf gate failure to LogisticsSystem tick cost and extreme allocation volume; added perf diagnostics and per-stage breakdown in perf harness to attribute time%alloc (Logistics dominating); removed LINQ hot paths in SimState and RoutePlanner; introduced deterministic, non-serialized outgoing-edge adjacency cache in SimState and routed RoutePlanner.TryPlanChoice to reuse it; validated with repeated PerfBudget_Slice3_V0 runs showing step-change improvements (avg_ms_per_tick fell from ~50–80ms flaky to ~3.9ms; logistics_alloc_bytes dropped from ~23GB/300 ticks to ~0.76GB/300 ticks; gc0_delta dropped from ~3700 to ~121). Evidence: SimCore.Tests/Determinism/LongRunWorldHashTests.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Systems/RoutePlanner.cs;SimCore/SimState.cs
- 2026-02-21 main GATE.UI.PLAY.TRADELOOP.001 PASS First playable trade loop v0 headless follow-through: test_player_trading runs buy%ship%sell with deterministic transcript (no timestamps) and repeat-run SHA256 match. Evidence: scripts/tests/test_player_trading.gd;scripts/core/game_manager.gd;scripts/bridge/SimBridge.cs;scenes/playable_prototype.tscn
- 2026-02-21, main, GATE.UI.PLAY.TRADELOOP.SAVELOAD.001 PASS (Play loop save%load v0: mid-job save%load preserves in-flight queues, route choices, per-fleet event stream; STE_QUICKSAVE_V2 persists selected fleet id via UiState; uninterrupted vs save%load final world hash equal). Evidence: SimCore.Tests/SaveLoad/SaveLoadLogisticsMidJobTests.cs;SimCore/Systems/SerializationSystem.cs;scripts/bridge/SimBridge.cs;scenes/playable_prototype.tscn
- 2026-02-21, main, GATE.X.API_BOUNDARIES.GUARD.001 PASS (UI%SimCore boundary guard: deterministic scan blocks scripts/ui references to SimCore.Entities%SimCore.Systems; StationMenu routes intel age and sustainment via SimBridge). Evidence: SimCore.Tests/ContainmentTests.cs;scripts/ui/StationMenu.cs;scripts/bridge/SimBridge.cs;docs/30_CONNECTIVITY_AND_INTERFACES.md
- 2026-02-21, main, GATE.X.GAMESHELL.SMOKE.001 PASS (Headless smoke harness v0: Godot 4.6 mono -s test_sim_skeleton.gd runs N=120 ticks, prints Seed%tick_count%world_hash@0%60%120 plus sorted counts; deterministic stdout%stderr hashes across 2 runs). Evidence: scripts/tests/test_sim_skeleton.gd;scripts/core/sim/sim.gd;scenes/main.tscn;scripts/core/game_manager.gd
- 2026-02-21, main, GATE.X.SCENARIO.HARNESS.001 PASS (Deterministic scenario harness v0: ScenarioHarnessV0 builds crafted micro-world with stable IDs%ordering; adopted by 2 regression tests for routing and lane capacity scarcity; dotnet test PASS). Evidence: SimCore/Schemas/WorldDefinition.cs;SimCore.Tests/Systems/RoutePlannerTests.cs;SimCore.Tests/Systems/LaneFlowSystemTests.cs;SimCore/Schemas/ScenarioSchema.cs
- 2026-02-21, main, GATE.X.TWEAKS.DATA.GUARD.001 PASS (Tweak routing guard v0: deterministic static scan flags new numeric literals in SimCore/Systems%SimCore/Gen unless Tweaks-sourced or allowlisted; emits sorted file:line:token report; baseline minted via STE_TWEAK_GUARD_MINT_BASELINE then full dotnet test PASS). Evidence: SimCore.Tests/Invariants/RuntimeFileContractTests.cs;SimCore/Gen/GalaxyGenerator.cs;SimCore/Systems/LaneFlowSystem.cs;SimCore/Systems/LogisticsSystem.cs;SimCore/Systems/MarketSystem.cs
- 2026-02-21, main, GATE.X.TWEAKS.DATA.HOSTFILE.RUNNER.001 PASS (Runner loads Data/Tweaks/tweaks_v0.json (UTF-8 no BOM) when present, falls back to defaults on missing%invalid, injects into SimKernel via tweakConfigJsonOverride, prints TweaksHash deterministically). Evidence: SimCore.Runner/Program.cs;SimCore.Tests/Invariants/RuntimeFileContractTests.cs;SimCore/SimKernel.cs;SimCore/SimState.cs;SimCore.Tests/Determinism/LogisticsOrderingDeterminismTests.cs
- 2026-02-21, main, GATE.X.TWEAKS.DATA.MIGRATE.LANE_CAPACITY.001 PASS (Lane capacity default sourced from tweak config; stable default preserves unlimited; override deterministically changes queueing). Evidence: SimCore/SimState.cs;SimCore/Systems/LaneFlowSystem.cs;SimCore.Tests/Determinism/LogisticsOrderingDeterminismTests.cs
- 2026-02-22, main, GATE.X.TWEAKS.DATA.MIGRATE.LOGISTICS_RISK.001 PASS (Risk knobs migrated to tweaks with deterministic fixed-point scoring; override determinism covered; tweak numeric allowlist updated; StationMenu intel age read uses NoLock inside safe read to avoid lock recursion). Evidence: SimCore/Systems/RoutePlanner.cs;SimCore.Tests/Determinism/LogisticsOrderingDeterminismTests.cs;docs/tweaks/allowlist_numeric_literals_v0.txt;scripts/bridge/SimBridge.cs;scripts/ui/StationMenu.cs
- 2026-02-22, main, GATE.UI.SAFEREAD.NOLOCK.INTEL_AGE.001 PASS (Fix UI lock recursion: StationMenu uses *_NoLock(state, ...) inside TryExecuteSafeRead for intel age and sustainment; SimBridge public getters are defensive when lock already held; dotnet test PASS; manual StationMenu toggle shop renders with no LockRecursionException). Evidence: scripts/bridge/SimBridge.cs;scripts/ui/StationMenu.cs;SimCore.Tests/Invariants/RuntimeFileContractTests.cs
