{
    "queue_contract_version":  "2.2",
    "queue_ordering":  "MULTIKEY_V1",
    "generated_utc":  "2026-02-22T12:05:47-05:00",
    "queue_intent":  "Stage 2 passthrough (IR already contains tasks) at HEAD 5c0a1ecc1f73f0d7b226c4ece25f2ff6755e3825",
    "tasks":  [
                  {
                      "gate_id":  "GATE.X.ROADMAP.CONSISTENCY.001",
                      "task_id":  "GATE.X.ROADMAP.CONSISTENCY.001.T001",
                      "status":  "TODO",
                      "title":  "Roadmap consistency scan v0",
                      "intent":  "Add deterministic roadmap consistency enforcement: PASS entries in session log imply DONE in gates ledger; DONE gates must have non-TBD evidence; active queue must not contain DONE gates; emit sorted mismatch report without timestamps and fail only on HARD_FAIL mismatches.",
                      "task_preflight":  [
                                             "Run scripts/tools/Validate-Gates.ps1 clean before starting.",
                                             "Ensure dotnet test SimCore.Tests Release is green on main before starting."
                                         ],
                      "evidence_paths":  [
                                             "scripts/tools/Scan-RoadmapConsistency.ps1",
                                             "SimCore.Tests/Invariants/RoadmapConsistencyTests.cs",
                                             "docs/55_GATES.md",
                                             "docs/56_SESSION_LOG.md",
                                             "docs/gates/gates.json",
                                             "docs/generated/roadmap_mismatches_v0.txt"
                                         ],
                      "expected_touch_paths":  [
                                                   "docs/54_EPICS.md",
                                                   "docs/generated/epic_status_v0.md",
                                                   "docs/roadmap/legacy_done_without_pass_allowlist_v0.txt",
                                                   "docs/epics/epic_gate_map_v0.json"
                                               ],
                      "constraints":  [
                                          "HARD_FAIL only for closeout correctness mismatches (PASS implies DONE, DONE evidence not TBD, duplicate gate ids, active queue contains DONE).",
                                          "Epic slice%epic contradictions are WARN_ONLY and must not fail the gate.",
                                          "Mismatch report is deterministic: stable ordering, no timestamps, UTF-8 no BOM.",
                                          "Violations are emitted as records including severity, kind, gate_id, details; sorted by severity then kind then gate_id.",
                                          "Session log is authoritative for PASS; do not infer completion from any other source."
                                      ],
                      "completion_hint":  [
                                              "Implement Scan-RoadmapConsistency.ps1 to parse docs/55_GATES.md + docs/56_SESSION_LOG.md + docs/gates/gates.json (and optionally docs/54_EPICS.md for WARN).",
                                              "Add RoadmapConsistencyTests.cs that runs the scan in tests and fails only on HARD_FAIL mismatches.",
                                              "Add docs/roadmap/legacy_done_without_pass_allowlist_v0.txt (may be empty; sorted).",
                                              "Emit docs/generated/roadmap_mismatches_v0.txt deterministically and keep it small.",
                                              "Proof: dotnet test SimCore.Tests/SimCore.Tests.csproj -c Release passes and the mismatch report is either empty or contains only WARN records."
                                          ],
                      "escalation_rules":  [
                                               {
                                                   "when":  "DEFAULT",
                                                   "route":  "STEP_A",
                                                   "note":  "Implement scan as a pure parser+diff with deterministic output."
                                               },
                                               {
                                                   "when":  "MISSING_EVIDENCE",
                                                   "route":  "STEP_B",
                                                   "note":  "If legacy DONE gates lack PASS entries, use allowlist file instead of retroactive session log edits."
                                               },
                                               {
                                                   "when":  "TEST_FAIL",
                                                   "route":  "STEP_B",
                                                   "note":  "If test flakiness appears, tighten ordering and strip nondeterministic text from reports."
                                               },
                                               {
                                                   "when":  "SCOPE_EXPANSION",
                                                   "route":  "STEP_D",
                                                   "note":  "Do not expand into a full epic planner. Keep it as consistency enforcement + minimal reporting."
                                               }
                                           ],
                      "buckets":  [
                                      "DocsTooling",
                                      "Tests",
                                      "DataGenerated"
                                  ],
                      "blocked_by":  [

                                     ]
                  }
              ]
}
